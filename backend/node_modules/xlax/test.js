'use strict';

var xlax = require('./index.js');

var music = new xlax('<music><artists><artist><name>Tally Hall</name><yearFormed>2002</yearFormed></artist><artist><name>Ben Folds Five</name><yearFormed>1993</yearFormed></artist><artist><name>Wilco</name><yearFormed>1994</yearFormed></artist></artists></music>');

console.log(music.extractOne('//music/artists/artist/name/text()')); // Tally Hall

console.log('------------');

music.forEach('//music/artists/artist', function(node) { // grab each artist
    console.log(node.toString()); // <artist><name>...
    console.log(node.extractOne('/artist/name/text()')); // TallyHall, then Ben Folds Five, etc.
    console.log(node.extractOne('/artist/yearFormed/text()')); // 2002, then 1993, etc.
});

console.log('------------');
var artists = music.extract('//music/artists/artist');
for (var i = 0; i < artists.length; i++) {
    console.log(artists[i].extractOne('/artist/name/text()')); // each result
    console.log(artists[i].extractOne('/artist/yearFormed/text()')); // each result
};

console.log('------------');
console.log(music.extractOnes([{
    key: 'name',
    path: '/music/artists/artist/name/text()'
}, {
    key: 'year',
    path: '/music/artists/artist/yearFormed/text()'
}]));

console.log('------------');
console.log(music.extractOnes({
    name: '/music/artists/artist/name/text()',
    year: '/music/artists/artist/yearFormed/text()'
}));
